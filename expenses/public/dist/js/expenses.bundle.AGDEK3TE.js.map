{
  "version": 3,
  "sources": ["../../../../../apps/expenses/expenses/public/js/expenses.bundle.js"],
  "sourcesContent": ["/*\n*  Expenses \u00A9 2024\n*  Author:  Ameen Ahmed\n*  Company: Level Up Marketing & Software Development Services\n*  Licence: Please refer to LICENSE file\n*/\n\n\nfrappe.provide('frappe.exp');\n\n\nclass Expenses {\n    constructor(opts) {\n        this.set_options(opts);\n        \n        this.is_ready = false;\n        this.is_enabled = true;\n        this._events = {\n            list: {},\n            real: {},\n        };\n        \n        if (this.startup) {\n            this.is_ready = true;\n            this.emit('ready');\n        } else {\n            this.request(\n                'is_enabled',\n                null,\n                function(ret) {\n                    this.is_ready = true;\n                    this.is_enabled = !!ret;\n                    this._startup();\n                },\n                function() {\n                    this.fatal('Status check failed.');\n                }\n            );\n        }\n    }\n    \n    set_options(opts) {\n        if (this.$isDataObj(opts)) $.extend(this, opts);\n        return this;\n    }\n    _startup() {\n        this.on('exp_app_status_changed', function(ret) {\n            if (!ret || !this.$isDataObj(ret) || this.$isVoid(ret.is_enabled)) {\n                this.fatal('Invalid status change event.');\n            } else {\n                ret.is_enabled = !!ret.is_enabled;\n                let changed = this.is_enabled !== ret.is_enabled;\n                this.is_enabled = ret.is_enabled;\n                if (changed) this.emit('changed');\n            }\n        });\n        this.emit('ready');\n    }\n    \n    path(method) {\n        return 'expenses.libs.' + method;\n    }\n    request(method, args, callback, error, _freeze) {\n        if (method.indexOf('.') < 0) method = this.path(method);\n        let opts = {\n            method: method,\n            freeze: _freeze != null ? _freeze : false,\n            callback: $.proxy(function(ret) {\n                if (ret && this.$isDataObj(ret)) ret = ret.message || ret;\n                if (ret && !ret.error) {\n                    callback && callback.call(this, ret);\n                    return;\n                }\n                let message = ret.message || 'The request sent raised an error.';\n                if (!error) this.error(message, args);\n                else error.call(this, {message: __(message, args)});\n            }, this),\n            error: $.proxy(function(ret, txt) {\n                let message = '';\n                if (this.$isStr(ret)) message = ret;\n                else if (this.$isStr(txt)) message = txt;\n                else message = 'The request sent have failed.';\n                if (!error) this.error(message, args);\n                else error.call(this, {message: __(message, args)});\n            }, this)\n        };\n        if (args) {\n            opts.type = 'POST';\n            opts.args = args;\n        }\n        try {\n            frappe.call(opts);\n        } catch(e) {\n            if (error) error.call(this, e);\n            else this._error('Error: ' + e.message, e.stack);\n            if (this.has_error) throw e;\n        } finally {\n            this.has_error = false;\n        }\n        return this;\n    }\n    \n    on(event, fn, _realtime) {\n        return this._event_adder(event, fn, 0, _realtime);\n    }\n    once(event, fn, _realtime) {\n        return this._event_adder(event, fn, 1, _realtime);\n    }\n    off(event, fn) {\n        if (!this.$isStr(event) || !event.length) return this;\n        if (!this.$isFunc(fn)) fn = null;\n        event.split(' ').forEach($.proxy(function(e) {\n            if (this._events.list[e]) this._event_remover(e, fn);\n        }, this));\n        return this;\n    }\n    emit(event, args) {\n        if (!this.$isStr(event) || !event.length) return this;\n        args = this.$isArr(args) ? args : (!this.$isVoid(args) ? [args] : null);\n        event.split(' ').forEach($.proxy(function(e) {\n            if (!this._events.list[e]) return;\n            this._emit_looper(e, args);\n            this._events_clear(e);\n        }, this));\n        return this;\n    }\n    _event_adder(event, fn, _once, _realtime) {\n        if (!this.$isStr(event) || !event.length || !this.$isFunc(fn)) return this;\n        event.split(' ').forEach($.proxy(function(e) {\n            if (e === 'ready' && this.is_ready) return fn.call(this);\n            if (!this._events.list[e]) {\n                this._events.list[e] = [];\n                if (e.indexOf('exp_') >= 0 || _realtime) {\n                    this._events.real[e] = $.proxy(function(ret) {\n                        if (ret && this.$isDataObj(ret)) ret = ret.message || ret;\n                        this.emit(e, [ret]);\n                    }, this);\n                    frappe.realtime.on(e, this._events.real[e]);\n                }\n            }\n            this._events.list[e].push({f: fn, fn: $.proxy(fn, this), o: _once});\n        }, this));\n        return this;\n    }\n    _event_remover(event, fn) {\n        if (fn)\n            this._events.list[event] = this._events.list[event].filter(function(e) {\n                return e.f !== fn;\n            });\n        this._events_clear(event, !fn);\n    }\n    _events_clear(event, all) {\n        if (!all && this._events.list[event].length) return;\n        delete this._events.list[event];\n        if (!this._events.real[event]) return;\n        frappe.realtime.off(event, this._events.real[event]);\n        delete this._events.real[event];\n    }\n    _emit_looper(e, args) {\n        this._events.list[e] = this._events.list[e].filter(function(ev) {\n            if (!args) ev.fn();\n            else ev.fn.apply(null, args);\n            return !ev.o;\n        });\n    }\n    \n    // form\n    setup_form(frm, workflow) {\n        try {\n            if (!this.is_enabled) {\n                frm._app_disabled = true;\n                if (!frm._form_disabled) {\n                    this.disable_form(frm, workflow);\n                    frm.set_intro(__('Expenses app is disabled.'), 'red');\n                }\n                frm._form_disabled = true;\n            } else {\n                frm._app_disabled = false;\n                if (frm._form_disabled) {\n                    this.enable_form(frm, workflow);\n                    frm.set_intro();\n                }\n                frm._form_disabled = false;\n            }\n        } catch(e) {\n            this._error('Setup form', e.message, e.stack);\n        } finally {\n            this.has_error = false;\n        }\n        return this;\n    }\n    enable_form(frm, workflow) {\n        try {\n            var fields = null;\n            if (this.$isArr(frm._disabled_fields) && frm._disabled_fields.length)\n                fields = frm._disabled_fields.splice(0, frm._disabled_fields.length);\n            frm.fields.forEach(function(field) {\n                if (!fields || fields.indexOf(field.df.fieldname) >= 0)\n                    frm.set_df_property(field.df.fieldname, 'read_only', '0');\n            });\n            if (\n                !workflow || frm.doc.__islocal\n                || (workflow && !frm.states.get_state())\n            ) frm.enable_save();\n            else frm.page.show_actions_menu();\n        } catch(e) {\n            this._error('Enable form', e.message, e.stack);\n        } finally {\n            this.has_error = false;\n        }\n        return this;\n    }\n    disable_form(frm, workflow) {\n        try {\n            if (!this.$isArr(frm._disabled_fields))\n                frm._disabled_fields = [];\n            frm.fields.forEach(function(field) {\n                if (!cint(field.df.read_only)) {\n                    frm._disabled_fields.push(field.df.fieldname);\n                    frm.set_df_property(field.df.fieldname, 'read_only', 1);\n                }\n            });\n            if (\n                !workflow || frm.doc.__islocal\n                || (workflow && !frm.states.get_state())\n            ) frm.disable_save();\n            else frm.page.hide_actions_menu();\n        } catch(e) {\n            this._error('Disable form', e.message, e.stack);\n        } finally {\n            this.has_error = false;\n        }\n        return this;\n    }\n    \n    get_field(frm, key, cdn, fkey, form) {\n        let field = frm.get_field(key);\n        if (field && field.grid && cdn && fkey) {\n            let row = field.grid.get_row(cdn);\n            if (!row) return;\n            field = row.get_field(fkey);\n            if (\n                form && row.grid_form\n                && row.grid_form.fields_dict\n            ) field = row.grid_form.fields_dict[fkey] || field;\n        }\n        return field;\n    }\n    get_grid(frm, key) {\n        let field = frm.get_field(key);\n        if (field) return field.grid;\n    }\n    get_row(frm, key, cdn) {\n        let grid = this.get_grid(frm, key);\n        if (grid) return grid.get_row(cdn);\n    }\n    focus(frm, key, cdn, fkey, form) {\n        let field = this.get_field(frm, key, cdn, fkey, form);\n        if (field && field.$input) field.$input.focus();\n        if (!field || !cdn) return this;\n        let row = this.get_row(frm, key, cdn);\n        if (row && row.row && form) {\n            field = row.row.find('[data-fieldname=\"' + fkey +'\"]');\n            if (field.length) field.first().focus();\n            else {\n                row.row.find('input[type=\"Text\"],textarea,select')\n                    .filter(':visible:first').focus();\n            }\n        } else {\n            field = frm.get_field(key);\n            if (field.grid.wrapper)\n                field.grid.wrapper.focus();\n        }\n        return this;\n    }\n    field_desc(frm, key, desc, cdn, fkey, form) {\n        let field = this.get_field(frm, key, cdn, fkey, form);\n        if (field && field.set_new_description) {\n            if (desc) field.set_new_description(__(desc));\n            if (field.toggle_description)\n                field.toggle_description(!!desc);\n        }\n        return this;\n    }\n    invalid_field(frm, key, err, cdn, fkey, form) {\n        let field = this.get_field(frm, key, cdn, fkey, form);\n        if (!field) return this;\n        let change = 0;\n        if (field.df && field.set_invalid) {\n            field.df.invalid = 1;\n            field.set_invalid();\n            change++;\n        }\n        if (err && field.set_new_description) {\n            field.set_new_description(__(err));\n            if (field.toggle_description)\n                field.toggle_description(true);\n            change++;\n        }\n        if (change) frm.refresh_field(key);\n        return this;\n    }\n    valid_field(frm, key, cdn, fkey, form) {\n        let field = this.get_field(frm, key, cdn, fkey, form);\n        if (!field) return this;\n        let change = 0;\n        if (field.df && field.set_invalid) {\n            field.df.invalid = 0;\n            field.set_invalid();\n            change++;\n        }\n        if (field.set_description) {\n            field.set_description();\n            if (\n                field.toggle_description\n                && (!field.df || !cstr(field.df.description).length)\n            ) field.toggle_description(false);\n            change++;\n        }\n        if (change) frm.refresh_field(key);\n        return this;\n    }\n    \n    // cache\n    set_cache(key, val) {\n        try {\n            sessionStorage.setItem('exp_' + key, JSON.stringify({___: val}));\n        } catch(_) {}\n        return this;\n    }\n    get_cache(key) {\n        try {\n            let val = sessionStorage.getItem('exp_' + key);\n            val = JSON.parse(val);\n            if (val.___ != null) val = val.___;\n            return val;\n        } catch(_) {}\n        return;\n    }\n    pop_cache(key) {\n        let val = this.get_cache(key);\n        this.del_cache(key);\n        return val;\n    }\n    del_cache(key) {\n        try {\n            sessionStorage.removeItem('exp_' + key);\n        } catch(_) {}\n        return this;\n    }\n    \n    table(cols) {\n        return new ExpensesTable(cols);\n    }\n    \n    // utility\n    $type(v) {\n        let t = v == null ? (v === void 0 ? 'Undefined' : 'Null')\n            : Object.prototype.toString.call(v).slice(8, -1);\n        return t === 'Number' && isNaN(v) ? 'NaN' : t;\n    }\n    $isStr(v) { return this.$type(v) === 'String'; }\n    $isVoid(v) { return this.$type(v) === 'Undefined'; }\n    $isFunc(v) { return typeof v === 'function' || /(Function|^Proxy)$/.test(this.$type(v)); }\n    $isArr(v) { return $.isArray(v); }\n    $isDataObj(v) { return $.isPlainObject(v); }\n    $isEmptyObj(v) { return $.isEmptyObject(v); }\n    $toArr(v, s, e) { return Array.prototype.slice.call(v, s, e); }\n    \n    \n    _alert(title, msg, args, def_title, indicator, fatal) {\n        if (this.$isArr(msg)) {\n            args = msg;\n            msg = null;\n        }\n        if (!msg) {\n            msg = title;\n            title = null;\n        }\n        if (msg && !this.$isStr(msg)) {\n            if (this.$isArr(msg))\n                try { msg = JSON.stringify(msg); } catch(_) { msg = null; }\n            else if (typeof msg === 'object')\n                try { msg = msg.message; } catch(_) { msg = null; }\n            else\n                try { msg = String(msg); } catch(_) { msg = null; }\n        }\n        if (!msg || !this.$isStr(msg)) msg = __('Invalid message');\n        else if (args) msg = __(msg, args);\n        else msg = __(msg);\n        if (!title || !this.$isStr(title)) title = def_title;\n        let data = {\n            title: '[Expenses]: ' + __(title),\n            indicator: indicator,\n            message: msg,\n        };\n        if (!fatal) frappe.msgprint(data);\n        else {\n            this.has_error = true;\n            frappe.throw(data);\n        }\n        return this;\n    }\n    error(title, msg, args) {\n        return this._alert(title, msg, args, 'Error', 'red');\n    }\n    info(title, msg, args) {\n        return this._alert(title, msg, args, 'Info', 'blue');\n    }\n    fatal(title, msg, args) {\n        return this._alert(title, msg, args, 'Error', 'red', true);\n    }\n    \n    _console(fn, args) {\n        args = this.$toArr(args);\n        let prefix = '[Expenses]';\n        if (!this.$isStr(args[0])) args.unshift(prefix);\n        else args[0] = prefix + ' ' + args[0];\n        console[fn].apply(null, args);\n        return this;\n    }\n    _log() {\n        return this._console('log', arguments);\n    }\n    _error() {\n        return this._console('error', arguments);\n    }\n}\n\n\nclass ExpensesTable {\n    constructor(n) {\n        this._c = {0: []};\n        \n        n = n || 1;\n        for (let i = 0; i < n; i++) this._c[i + 1] = [];\n    }\n    get length() { return this._c[0].length; }\n    idx(v, i) {\n        return this._c[i || 0].indexOf(v);\n    }\n    has(v, i) {\n        return this.idx(v, i) >= 0;\n    }\n    add() {\n        let i = this.idx(arguments[0]);\n        if (i >= 0) {\n            for (let k in this._c) {\n                if (k !== 0) this._c[k][i] = arguments[k];\n            }\n        } else {\n            for (let i = 0, l = arguments.length; i < l; i++) {\n                if (arguments[i] != null) this._c[i].push(arguments[i]);\n            }\n        }\n        return this;\n    }\n    del(v, i) {\n        i = this.idx(v, i);\n        if (i >= 0) {\n            for (let k in this._c) this._c[k].splice(i, 1);\n        }\n        return this;\n    }\n    col(i) {\n        return this._c[i];\n    }\n    row(v, i) {\n        i = this.idx(v, i);\n        if (i < 0) return null;\n        let r = [];\n        for (let k in this._c) r[k] = this._c[k][i];\n        return r;\n    }\n    clear() {\n        for (let k in this._c)\n            this._c[k].splice(0, this._c[k].length);\n    }\n}\n\n\nfrappe.exp = function(opts) {\n    if (!frappe.exp._init) frappe.exp._init = new Expenses(opts);\n    else frappe.exp._init.set_options(opts);\n    return frappe.exp._init;\n};"],
  "mappings": "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",
  "names": ["i"]
}
